import { Meta, Source } from '@storybook/blocks';
import * as components from './render-field.components';

<Meta 
    title="API/renderField/active"
    parameters={{
        previewTabs: {
            canvas: {
                hidden: true,
            }
        }
    }}
/>

<div className="subheading" id='active'>
    Enabling/Disabling a field
</div>
<p>
    In this example, the second field will not produce an error message, much less will it be displayed when submitting the form.
</p>
<div className='canvas-code'>
    <div className='wrap-code center'>
        <components.Active/>
    </div>
    <Source
        language='tsx'
        dark
        format={true}
        code={`
            const form = useNiceForm()

            return (
                <NiceformHookProvider form={form}>
                    <form onSubmit={form.methods.handleSubmit(values => alert(JSON.stringify(values)))}>
                        {
                            form.renderField({
                                type: 'text',
                                name: 'fullname',
                                label: 'Fullname',
                                required: true,
                                helpText: 'This field is required'
                            })
                        }
                        <br/>
                        <br/>
                        {
                            form.renderField({
                                type: 'text',
                                name: 'lastname',
                                label: 'lastname',
                                active: false,
                                required: true,
                                helpText: 'This field is required but is inactive'
                            })
                        }
                        <br/>
                        <br/>
                        <Button
                            variant="contained"
                            type='submit'
                        >
                            Send
                        </Button>
                    </form>
                </NiceformHookProvider>
            )
        `}
    />
</div>